<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>module Celluloid - celluloid-0.15.2 Documentation</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body id="top" class="module">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  

  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/celluloid.rb
    <li>lib/celluloid/actor.rb
    <li>lib/celluloid/call_chain.rb
    <li>lib/celluloid/calls.rb
    <li>lib/celluloid/condition.rb
    <li>lib/celluloid/cpu_counter.rb
    <li>lib/celluloid/evented_mailbox.rb
    <li>lib/celluloid/fsm.rb
    <li>lib/celluloid/future.rb
    <li>lib/celluloid/internal_pool.rb
    <li>lib/celluloid/links.rb
    <li>lib/celluloid/logger.rb
    <li>lib/celluloid/logging/incident.rb
    <li>lib/celluloid/logging/incident_logger.rb
    <li>lib/celluloid/logging/incident_reporter.rb
    <li>lib/celluloid/logging/log_event.rb
    <li>lib/celluloid/logging/ring_buffer.rb
    <li>lib/celluloid/mailbox.rb
    <li>lib/celluloid/method.rb
    <li>lib/celluloid/notifications.rb
    <li>lib/celluloid/pool_manager.rb
    <li>lib/celluloid/properties.rb
    <li>lib/celluloid/proxies/abstract_proxy.rb
    <li>lib/celluloid/proxies/actor_proxy.rb
    <li>lib/celluloid/proxies/async_proxy.rb
    <li>lib/celluloid/proxies/block_proxy.rb
    <li>lib/celluloid/proxies/future_proxy.rb
    <li>lib/celluloid/proxies/sync_proxy.rb
    <li>lib/celluloid/receivers.rb
    <li>lib/celluloid/registry.rb
    <li>lib/celluloid/responses.rb
    <li>lib/celluloid/rspec.rb
    <li>lib/celluloid/signals.rb
    <li>lib/celluloid/stack_dump.rb
    <li>lib/celluloid/supervision_group.rb
    <li>lib/celluloid/supervisor.rb
    <li>lib/celluloid/system_events.rb
    <li>lib/celluloid/task_set.rb
    <li>lib/celluloid/tasks.rb
    <li>lib/celluloid/tasks/task_fiber.rb
    <li>lib/celluloid/tasks/task_thread.rb
    <li>lib/celluloid/thread.rb
    <li>lib/celluloid/thread_handle.rb
    <li>lib/celluloid/uuid.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    
    
    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li ><a href="#method-c-actor-3F">::actor?</a>
    
    <li ><a href="#method-c-boot">::boot</a>
    
    <li ><a href="#method-c-cores">::cores</a>
    
    <li ><a href="#method-c-cpus">::cpus</a>
    
    <li ><a href="#method-c-detect_recursion">::detect_recursion</a>
    
    <li ><a href="#method-c-dump">::dump</a>
    
    <li ><a href="#method-c-exception_handler">::exception_handler</a>
    
    <li ><a href="#method-c-included">::included</a>
    
    <li ><a href="#method-c-init">::init</a>
    
    <li ><a href="#method-c-mailbox">::mailbox</a>
    
    <li ><a href="#method-c-ncpus">::ncpus</a>
    
    <li ><a href="#method-c-register_shutdown">::register_shutdown</a>
    
    <li ><a href="#method-c-running-3F">::running?</a>
    
    <li ><a href="#method-c-shutdown">::shutdown</a>
    
    <li ><a href="#method-c-stack_dump">::stack_dump</a>
    
    <li ><a href="#method-c-start">::start</a>
    
    <li ><a href="#method-c-suspend">::suspend</a>
    
    <li ><a href="#method-c-uuid">::uuid</a>
    
    <li ><a href="#method-c-version">::version</a>
    
    <li ><a href="#method-i-abort">#abort</a>
    
    <li ><a href="#method-i-after">#after</a>
    
    <li ><a href="#method-i-async">#async</a>
    
    <li ><a href="#method-i-call_chain_id">#call_chain_id</a>
    
    <li ><a href="#method-i-current_actor">#current_actor</a>
    
    <li ><a href="#method-i-defer">#defer</a>
    
    <li ><a href="#method-i-every">#every</a>
    
    <li ><a href="#method-i-exclusive">#exclusive</a>
    
    <li ><a href="#method-i-exclusive-3F">#exclusive?</a>
    
    <li ><a href="#method-i-future">#future</a>
    
    <li ><a href="#method-i-link">#link</a>
    
    <li ><a href="#method-i-linked_to-3F">#linked_to?</a>
    
    <li ><a href="#method-i-links">#links</a>
    
    <li ><a href="#method-i-monitor">#monitor</a>
    
    <li ><a href="#method-i-monitoring-3F">#monitoring?</a>
    
    <li ><a href="#method-i-receive">#receive</a>
    
    <li ><a href="#method-i-signal">#signal</a>
    
    <li ><a href="#method-i-sleep">#sleep</a>
    
    <li ><a href="#method-i-tasks">#tasks</a>
    
    <li ><a href="#method-i-terminate">#terminate</a>
    
    <li ><a href="#method-i-timeout">#timeout</a>
    
    <li ><a href="#method-i-unlink">#unlink</a>
    
    <li ><a href="#method-i-unmonitor">#unmonitor</a>
    
    <li ><a href="#method-i-wait">#wait</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    
    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./Celluloid.html">Celluloid</a>
  
    <li><a href="./Celluloid/AbortError.html">Celluloid::AbortError</a>
  
    <li><a href="./Celluloid/AbstractProxy.html">Celluloid::AbstractProxy</a>
  
    <li><a href="./Celluloid/Actor.html">Celluloid::Actor</a>
  
    <li><a href="./Celluloid/Actor/Sleeper.html">Celluloid::Actor::Sleeper</a>
  
    <li><a href="./Celluloid/ActorProxy.html">Celluloid::ActorProxy</a>
  
    <li><a href="./Celluloid/AsyncCall.html">Celluloid::AsyncCall</a>
  
    <li><a href="./Celluloid/AsyncProxy.html">Celluloid::AsyncProxy</a>
  
    <li><a href="./Celluloid/BlockCall.html">Celluloid::BlockCall</a>
  
    <li><a href="./Celluloid/BlockProxy.html">Celluloid::BlockProxy</a>
  
    <li><a href="./Celluloid/BlockResponse.html">Celluloid::BlockResponse</a>
  
    <li><a href="./Celluloid/CPUCounter.html">Celluloid::CPUCounter</a>
  
    <li><a href="./Celluloid/CPUCounter/RbConfig.html">Celluloid::CPUCounter::RbConfig</a>
  
    <li><a href="./Celluloid/Call.html">Celluloid::Call</a>
  
    <li><a href="./Celluloid/CallChain.html">Celluloid::CallChain</a>
  
    <li><a href="./Celluloid/ClassMethods.html">Celluloid::ClassMethods</a>
  
    <li><a href="./Celluloid/Condition.html">Celluloid::Condition</a>
  
    <li><a href="./Celluloid/Condition/Waiter.html">Celluloid::Condition::Waiter</a>
  
    <li><a href="./Celluloid/ConditionError.html">Celluloid::ConditionError</a>
  
    <li><a href="./Celluloid/DeadActorError.html">Celluloid::DeadActorError</a>
  
    <li><a href="./Celluloid/DeadTaskError.html">Celluloid::DeadTaskError</a>
  
    <li><a href="./Celluloid/ErrorResponse.html">Celluloid::ErrorResponse</a>
  
    <li><a href="./Celluloid/EventedMailbox.html">Celluloid::EventedMailbox</a>
  
    <li><a href="./Celluloid/ExitEvent.html">Celluloid::ExitEvent</a>
  
    <li><a href="./Celluloid/FSM.html">Celluloid::FSM</a>
  
    <li><a href="./Celluloid/FSM/ClassMethods.html">Celluloid::FSM::ClassMethods</a>
  
    <li><a href="./Celluloid/FSM/State.html">Celluloid::FSM::State</a>
  
    <li><a href="./Celluloid/FSM/UnattachedError.html">Celluloid::FSM::UnattachedError</a>
  
    <li><a href="./Celluloid/FiberStackError.html">Celluloid::FiberStackError</a>
  
    <li><a href="./Celluloid/Future.html">Celluloid::Future</a>
  
    <li><a href="./Celluloid/Future/Result.html">Celluloid::Future::Result</a>
  
    <li><a href="./Celluloid/FutureProxy.html">Celluloid::FutureProxy</a>
  
    <li><a href="./Celluloid/Incident.html">Celluloid::Incident</a>
  
    <li><a href="./Celluloid/IncidentLogger.html">Celluloid::IncidentLogger</a>
  
    <li><a href="./Celluloid/IncidentLogger/Severity.html">Celluloid::IncidentLogger::Severity</a>
  
    <li><a href="./Celluloid/IncidentReporter.html">Celluloid::IncidentReporter</a>
  
    <li><a href="./Celluloid/IncidentReporter/Formatter.html">Celluloid::IncidentReporter::Formatter</a>
  
    <li><a href="./Celluloid/InstanceMethods.html">Celluloid::InstanceMethods</a>
  
    <li><a href="./Celluloid/InternalPool.html">Celluloid::InternalPool</a>
  
    <li><a href="./Celluloid/LinkingRequest.html">Celluloid::LinkingRequest</a>
  
    <li><a href="./Celluloid/LinkingResponse.html">Celluloid::LinkingResponse</a>
  
    <li><a href="./Celluloid/Links.html">Celluloid::Links</a>
  
    <li><a href="./Celluloid/LogEvent.html">Celluloid::LogEvent</a>
  
    <li><a href="./Celluloid/Logger.html">Celluloid::Logger</a>
  
    <li><a href="./Celluloid/Mailbox.html">Celluloid::Mailbox</a>
  
    <li><a href="./Celluloid/MailboxDead.html">Celluloid::MailboxDead</a>
  
    <li><a href="./Celluloid/MailboxShutdown.html">Celluloid::MailboxShutdown</a>
  
    <li><a href="./Celluloid/Method.html">Celluloid::Method</a>
  
    <li><a href="./Celluloid/NamingRequest.html">Celluloid::NamingRequest</a>
  
    <li><a href="./Celluloid/NotActorError.html">Celluloid::NotActorError</a>
  
    <li><a href="./Celluloid/NotTaskError.html">Celluloid::NotTaskError</a>
  
    <li><a href="./Celluloid/Notifications.html">Celluloid::Notifications</a>
  
    <li><a href="./Celluloid/Notifications/Fanout.html">Celluloid::Notifications::Fanout</a>
  
    <li><a href="./Celluloid/Notifications/Subscriber.html">Celluloid::Notifications::Subscriber</a>
  
    <li><a href="./Celluloid/PoolManager.html">Celluloid::PoolManager</a>
  
    <li><a href="./Celluloid/Properties.html">Celluloid::Properties</a>
  
    <li><a href="./Celluloid/Receiver.html">Celluloid::Receiver</a>
  
    <li><a href="./Celluloid/Receivers.html">Celluloid::Receivers</a>
  
    <li><a href="./Celluloid/Registry.html">Celluloid::Registry</a>
  
    <li><a href="./Celluloid/Registry/actor;.html">Celluloid::Registry::actor;</a>
  
    <li><a href="./Celluloid/Response.html">Celluloid::Response</a>
  
    <li><a href="./Celluloid/ResumableError.html">Celluloid::ResumableError</a>
  
    <li><a href="./Celluloid/RingBuffer.html">Celluloid::RingBuffer</a>
  
    <li><a href="./Celluloid/SignalConditionRequest.html">Celluloid::SignalConditionRequest</a>
  
    <li><a href="./Celluloid/Signals.html">Celluloid::Signals</a>
  
    <li><a href="./Celluloid/StackDump.html">Celluloid::StackDump</a>
  
    <li><a href="./Celluloid/StackDump/ActorState.html">Celluloid::StackDump::ActorState</a>
  
    <li><a href="./Celluloid/StackDump/DisplayBacktrace.html">Celluloid::StackDump::DisplayBacktrace</a>
  
    <li><a href="./Celluloid/StackDump/TaskState.html">Celluloid::StackDump::TaskState</a>
  
    <li><a href="./Celluloid/StackDump/ThreadState.html">Celluloid::StackDump::ThreadState</a>
  
    <li><a href="./Celluloid/SuccessResponse.html">Celluloid::SuccessResponse</a>
  
    <li><a href="./Celluloid/SupervisionGroup.html">Celluloid::SupervisionGroup</a>
  
    <li><a href="./Celluloid/SupervisionGroup/Member.html">Celluloid::SupervisionGroup::Member</a>
  
    <li><a href="./Celluloid/Supervisor.html">Celluloid::Supervisor</a>
  
    <li><a href="./Celluloid/SyncCall.html">Celluloid::SyncCall</a>
  
    <li><a href="./Celluloid/SyncProxy.html">Celluloid::SyncProxy</a>
  
    <li><a href="./Celluloid/SystemEvent.html">Celluloid::SystemEvent</a>
  
    <li><a href="./Celluloid/Task.html">Celluloid::Task</a>
  
    <li><a href="./Celluloid/Task/TerminatedError.html">Celluloid::Task::TerminatedError</a>
  
    <li><a href="./Celluloid/Task/TimeoutError.html">Celluloid::Task::TimeoutError</a>
  
    <li><a href="./Celluloid/TaskFiber.html">Celluloid::TaskFiber</a>
  
    <li><a href="./Celluloid/TaskSet.html">Celluloid::TaskSet</a>
  
    <li><a href="./Celluloid/TaskThread.html">Celluloid::TaskThread</a>
  
    <li><a href="./Celluloid/TerminationRequest.html">Celluloid::TerminationRequest</a>
  
    <li><a href="./Celluloid/Thread.html">Celluloid::Thread</a>
  
    <li><a href="./Celluloid/ThreadHandle.html">Celluloid::ThreadHandle</a>
  
    <li><a href="./Celluloid/TimeoutError.html">Celluloid::TimeoutError</a>
  
    <li><a href="./Celluloid/UUID.html">Celluloid::UUID</a>
  
    <li><a href="./Fiber.html">Fiber</a>
  
    <li><a href="./Thread.html">Thread</a>
  
    <li><a href="./org.html">org</a>
  
    <li><a href="./org/jruby.html">org::jruby</a>
  
    <li><a href="./org/jruby/ext.html">org::jruby::ext</a>
  
    <li><a href="./org/jruby/ext/fiber.html">org::jruby::ext::fiber</a>
  
    <li><a href="./org/jruby/ext/fiber/ThreadFiber.html">org::jruby::ext::fiber::ThreadFiber</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="module">module Celluloid</h1>

  <div id="description" class="description">
    
  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <!-- Constants -->
    <section id="constants-list" class="section">
      <h3 class="section-header">Constants</h3>
      <dl>
      
        <dt id="BARE_OBJECT_WARNING_MESSAGE">BARE_OBJECT_WARNING_MESSAGE
        
        <dd class="description"><p>Warning message added to <a href="Celluloid.html">Celluloid</a> objects
accessed outside their actors</p>
        
      
        <dt id="Error">Error
        
        <dd class="description">
        
      
        <dt id="LINKING_TIMEOUT">LINKING_TIMEOUT
        
        <dd class="description">
        
      
        <dt id="OWNER_IVAR">OWNER_IVAR
        
        <dd class="description">
        
      
        <dt id="TIMER_QUANTUM">TIMER_QUANTUM
        
        <dd class="description"><p>Timer accuracy enforced by the tests (50ms)</p>
        
      
        <dt id="TaskSet">TaskSet
        
        <dd class="description"><p>Assume we&#39;re on MRI, where we have the GIL. But what about IronRuby? Or
MacRuby. Do people care? This will break Celluloid::StackDumps</p>
        
      
        <dt id="VERSION">VERSION
        
        <dd class="description">
        
      
      </dl>
    </section>
    

    
    <!-- Attributes -->
    <section id="attribute-method-details" class="method-section section">
      <h3 class="section-header">Attributes</h3>

      
      <div id="attribute-c-internal_pool" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">internal_pool</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-c-logger" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">logger</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-c-shutdown_timeout" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">shutdown_timeout</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-c-task_class" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">task_class</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
    </section><!-- attribute-method-details -->
    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-actor-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">actor?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Are we currently inside of an actor?</p>
          
          

          
          <div class="method-source-code" id="actor-3F-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 49</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">actor?</span>
  <span class="ruby-operator">!</span><span class="ruby-operator">!</span><span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:celluloid_actor</span>]
<span class="ruby-keyword">end</span></pre>
          </div><!-- actor-3F-source -->
          
        </div>

        

        
      </div><!-- actor-3F-method -->

    
      <div id="method-c-boot" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">boot</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="boot-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 103</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">boot</span>
  <span class="ruby-identifier">init</span>
  <span class="ruby-identifier">start</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- boot-source -->
          
        </div>

        

        
      </div><!-- boot-method -->

    
      <div id="method-c-cores" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cores</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Obtain the number of CPUs in the system</p>
          
          

          
          <div class="method-source-code" id="cores-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 64</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cores</span>
 <span class="ruby-constant">CPUCounter</span>.<span class="ruby-identifier">cores</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- cores-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Celluloid.html#method-c-cpus">cpus</a>, <a href="Celluloid.html#method-c-ncpus">ncpus</a>
        </div>
        

        
      </div><!-- cores-method -->

    
      <div id="method-c-cpus" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">cpus</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Celluloid.html#method-c-cores">cores</a>
        </div>
        
      </div><!-- cpus-method -->

    
      <div id="method-c-detect_recursion" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">detect_recursion</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Detect if a particular call is recursing through multiple actors</p>
          
          

          
          <div class="method-source-code" id="detect_recursion-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 77</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">detect_recursion</span>
  <span class="ruby-identifier">actor</span> = <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:celluloid_actor</span>]
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">actor</span>

  <span class="ruby-identifier">task</span> = <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:celluloid_task</span>]
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">task</span>

  <span class="ruby-identifier">chain_id</span> = <span class="ruby-constant">CallChain</span>.<span class="ruby-identifier">current_id</span>
  <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">tasks</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">task</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">chain_id</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">chain_id</span> }
<span class="ruby-keyword">end</span></pre>
          </div><!-- detect_recursion-source -->
          
        </div>

        

        
      </div><!-- detect_recursion-method -->

    
      <div id="method-c-dump" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">dump</span><span
            class="method-args">(output = STDERR)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Celluloid.html#method-c-stack_dump">stack_dump</a>
        </div>
        
      </div><!-- dump-method -->

    
      <div id="method-c-exception_handler" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">exception_handler</span><span
            class="method-args">(&block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Define an exception handler for actor crashes</p>
          
          

          
          <div class="method-source-code" id="exception_handler-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 89</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">exception_handler</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-constant">Logger</span>.<span class="ruby-identifier">exception_handler</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- exception_handler-source -->
          
        </div>

        

        
      </div><!-- exception_handler-method -->

    
      <div id="method-c-included" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">included</span><span
            class="method-args">(klass)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="included-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 25</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">included</span>(<span class="ruby-identifier">klass</span>)
  <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:extend</span>,  <span class="ruby-constant">ClassMethods</span>
  <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:include</span>, <span class="ruby-constant">InstanceMethods</span>

  <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:extend</span>, <span class="ruby-constant">Properties</span>

  <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">property</span> <span class="ruby-value">:mailbox_class</span>, <span class="ruby-value">:default</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Celluloid</span><span class="ruby-operator">::</span><span class="ruby-constant">Mailbox</span>
  <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">property</span> <span class="ruby-value">:proxy_class</span>,   <span class="ruby-value">:default</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Celluloid</span><span class="ruby-operator">::</span><span class="ruby-constant">ActorProxy</span>
  <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">property</span> <span class="ruby-value">:task_class</span>,    <span class="ruby-value">:default</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Celluloid</span>.<span class="ruby-identifier">task_class</span>
  <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">property</span> <span class="ruby-value">:mailbox_size</span>

  <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">property</span> <span class="ruby-value">:execute_block_on_receiver</span>,
    <span class="ruby-value">:default</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:after</span>, <span class="ruby-value">:every</span>, <span class="ruby-value">:receive</span>],
    <span class="ruby-value">:multi</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">property</span> <span class="ruby-value">:finalizer</span>
  <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">property</span> <span class="ruby-value">:exit_handler</span>

  <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:define_singleton_method</span>, <span class="ruby-value">:trap_exit</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">args</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">exit_handler</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- included-source -->
          
        </div>

        

        
      </div><!-- included-method -->

    
      <div id="method-c-init" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">init</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="init-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 108</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">init</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">internal_pool</span> = <span class="ruby-constant">InternalPool</span>.<span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- init-source -->
          
        </div>

        

        
      </div><!-- init-method -->

    
      <div id="method-c-mailbox" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">mailbox</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Retrieve the mailbox for the current thread or lazily initialize it</p>
          
          

          
          <div class="method-source-code" id="mailbox-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 54</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">mailbox</span>
  <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:celluloid_mailbox</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">Celluloid</span><span class="ruby-operator">::</span><span class="ruby-constant">Mailbox</span>.<span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- mailbox-source -->
          
        </div>

        

        
      </div><!-- mailbox-method -->

    
      <div id="method-c-ncpus" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">ncpus</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Celluloid.html#method-c-cores">cores</a>
        </div>
        
      </div><!-- ncpus-method -->

    
      <div id="method-c-register_shutdown" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">register_shutdown</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="register_shutdown-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 123</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">register_shutdown</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@shutdown_registered</span>
  <span class="ruby-comment"># Terminate all actors at exit</span>
  <span class="ruby-identifier">at_exit</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">RUBY_ENGINE</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">RUBY_ENGINE</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;ruby&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">RUBY_VERSION</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-string">&quot;1.9&quot;</span>
      <span class="ruby-comment"># workaround for MRI bug losing exit status in at_exit block</span>
      <span class="ruby-comment"># http://bugs.ruby-lang.org/issues/5218</span>
      <span class="ruby-identifier">exit_status</span> = <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">status</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SystemExit</span>)
      <span class="ruby-constant">Celluloid</span>.<span class="ruby-identifier">shutdown</span>
      <span class="ruby-identifier">exit</span> <span class="ruby-identifier">exit_status</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">exit_status</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-constant">Celluloid</span>.<span class="ruby-identifier">shutdown</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@shutdown_registered</span> = <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- register_shutdown-source -->
          
        </div>

        

        
      </div><!-- register_shutdown-method -->

    
      <div id="method-c-running-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">running?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="running-3F-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 119</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">running?</span>
  <span class="ruby-identifier">internal_pool</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- running-3F-source -->
          
        </div>

        

        
      </div><!-- running-3F-method -->

    
      <div id="method-c-shutdown" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">shutdown</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Shut down all running actors</p>
          
          

          
          <div class="method-source-code" id="shutdown-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 141</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">shutdown</span>
  <span class="ruby-identifier">actors</span> = <span class="ruby-constant">Actor</span>.<span class="ruby-identifier">all</span>

  <span class="ruby-constant">Timeout</span>.<span class="ruby-identifier">timeout</span>(<span class="ruby-identifier">shutdown_timeout</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">internal_pool</span>.<span class="ruby-identifier">shutdown</span>

    <span class="ruby-constant">Logger</span>.<span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;Terminating #{actors.size} #{(actors.size &gt; 1) ? &#39;actors&#39; : &#39;actor&#39;}...&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">actors</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>

    <span class="ruby-comment"># Attempt to shut down the supervision tree, if available</span>
    <span class="ruby-constant">Supervisor</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">terminate</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">Supervisor</span>.<span class="ruby-identifier">root</span>

    <span class="ruby-comment"># Actors cannot self-terminate, you must do it for them</span>
    <span class="ruby-identifier">actors</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">actor</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">terminate!</span>
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">DeadActorError</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">actors</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">actor</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-constant">Actor</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">actor</span>)
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">DeadActorError</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">Timeout</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>
  <span class="ruby-constant">Logger</span>.<span class="ruby-identifier">error</span>(<span class="ruby-node">&quot;Couldn&#39;t cleanly terminate all actors in #{shutdown_timeout} seconds!&quot;</span>)
  <span class="ruby-identifier">actors</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">actor</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-constant">Actor</span>.<span class="ruby-identifier">kill</span>(<span class="ruby-identifier">actor</span>)
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">DeadActorError</span>, <span class="ruby-constant">MailboxDead</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-identifier">internal_pool</span>.<span class="ruby-identifier">kill</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- shutdown-source -->
          
        </div>

        

        
      </div><!-- shutdown-method -->

    
      <div id="method-c-stack_dump" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">stack_dump</span><span
            class="method-args">(output = STDERR)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Perform a stack dump of all actors to the given output object</p>
          
          

          
          <div class="method-source-code" id="stack_dump-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 71</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">stack_dump</span>(<span class="ruby-identifier">output</span> = <span class="ruby-constant">STDERR</span>)
  <span class="ruby-constant">Celluloid</span><span class="ruby-operator">::</span><span class="ruby-constant">StackDump</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-identifier">output</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- stack_dump-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Celluloid.html#method-c-dump">dump</a>
        </div>
        

        
      </div><!-- stack_dump-method -->

    
      <div id="method-c-start" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">start</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Launch default services FIXME: We should set up the supervision hierarchy
here</p>
          
          

          
          <div class="method-source-code" id="start-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 114</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">start</span>
  <span class="ruby-constant">Celluloid</span><span class="ruby-operator">::</span><span class="ruby-constant">Notifications</span><span class="ruby-operator">::</span><span class="ruby-constant">Fanout</span>.<span class="ruby-identifier">supervise_as</span> <span class="ruby-value">:notifications_fanout</span>
  <span class="ruby-constant">Celluloid</span><span class="ruby-operator">::</span><span class="ruby-constant">IncidentReporter</span>.<span class="ruby-identifier">supervise_as</span> <span class="ruby-value">:default_incident_reporter</span>, <span class="ruby-constant">STDERR</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- start-source -->
          
        </div>

        

        
      </div><!-- start-method -->

    
      <div id="method-c-suspend" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">suspend</span><span
            class="method-args">(status, waiter)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="suspend-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 93</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">suspend</span>(<span class="ruby-identifier">status</span>, <span class="ruby-identifier">waiter</span>)
  <span class="ruby-identifier">task</span> = <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:celluloid_task</span>]
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">task</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-constant">Celluloid</span>.<span class="ruby-identifier">exclusive?</span>
    <span class="ruby-identifier">waiter</span>.<span class="ruby-identifier">before_suspend</span>(<span class="ruby-identifier">task</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">waiter</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:before_suspend</span>)
    <span class="ruby-constant">Task</span>.<span class="ruby-identifier">suspend</span>(<span class="ruby-identifier">status</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">waiter</span>.<span class="ruby-identifier">wait</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- suspend-source -->
          
        </div>

        

        
      </div><!-- suspend-method -->

    
      <div id="method-c-uuid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">uuid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Generate a Universally Unique Identifier</p>
          
          

          
          <div class="method-source-code" id="uuid-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 59</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">uuid</span>
  <span class="ruby-constant">UUID</span>.<span class="ruby-identifier">generate</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- uuid-source -->
          
        </div>

        

        
      </div><!-- uuid-method -->

    
      <div id="method-c-version" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">version</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="version-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 179</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">version</span>
  <span class="ruby-constant">VERSION</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- version-source -->
          
        </div>

        

        
      </div><!-- version-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-abort" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">abort</span><span
            class="method-args">(cause)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Raise an exception in sender context, but stay running</p>
          
          

          
          <div class="method-source-code" id="abort-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 327</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">abort</span>(<span class="ruby-identifier">cause</span>)
  <span class="ruby-identifier">cause</span> = <span class="ruby-keyword">case</span> <span class="ruby-identifier">cause</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">String</span> <span class="ruby-keyword">then</span> <span class="ruby-constant">RuntimeError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">cause</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Exception</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">cause</span>
    <span class="ruby-keyword">else</span> <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-node">&quot;Exception object/String expected, but #{cause.class} received&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">AbortError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">cause</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- abort-source -->
          
        </div>

        

        
      </div><!-- abort-method -->

    
      <div id="method-i-after" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">after</span><span
            class="method-args">(interval, &block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="Celluloid/Call.html">Call</a> a block after a given interval,
returning a Celluloid::Timer object</p>
          
          

          
          <div class="method-source-code" id="after-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 441</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">after</span>(<span class="ruby-identifier">interval</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:celluloid_actor</span>].<span class="ruby-identifier">after</span>(<span class="ruby-identifier">interval</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- after-source -->
          
        </div>

        

        
      </div><!-- after-method -->

    
      <div id="method-i-async" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">async</span><span
            class="method-args">(meth = nil, *args, &block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Handle async calls within an actor itself</p>
          
          

          
          <div class="method-source-code" id="async-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 460</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">async</span>(<span class="ruby-identifier">meth</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:celluloid_actor</span>].<span class="ruby-identifier">proxy</span>.<span class="ruby-identifier">async</span> <span class="ruby-identifier">meth</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- async-source -->
          
        </div>

        

        
      </div><!-- async-method -->

    
      <div id="method-i-call_chain_id" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">call_chain_id</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Obtain the <a href="Celluloid/UUID.html">UUID</a> of the current call chain</p>
          
          

          
          <div class="method-source-code" id="call_chain_id-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 357</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">call_chain_id</span>
  <span class="ruby-constant">CallChain</span>.<span class="ruby-identifier">current_id</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- call_chain_id-source -->
          
        </div>

        

        
      </div><!-- call_chain_id-method -->

    
      <div id="method-i-current_actor" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">current_actor</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Obtain the <a
href="Celluloid.html#method-i-current_actor">#current_actor</a></p>
          
          

          
          <div class="method-source-code" id="current_actor-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 352</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">current_actor</span>
  <span class="ruby-constant">Actor</span>.<span class="ruby-identifier">current</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- current_actor-source -->
          
        </div>

        

        
      </div><!-- current_actor-method -->

    
      <div id="method-i-defer" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">defer</span><span
            class="method-args">(&block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Perform a blocking or computationally intensive action inside an
asynchronous thread pool, allowing the sender to continue processing other
messages in its mailbox in the meantime</p>
          
          

          
          <div class="method-source-code" id="defer-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 453</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">defer</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-comment"># This implementation relies on the present implementation of</span>
  <span class="ruby-comment"># Celluloid::Future, which uses a thread from InternalPool to run the block</span>
  <span class="ruby-constant">Future</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>).<span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- defer-source -->
          
        </div>

        

        
      </div><!-- defer-method -->

    
      <div id="method-i-every" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">every</span><span
            class="method-args">(interval, &block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="Celluloid/Call.html">Call</a> a block every given interval,
returning a Celluloid::Timer object</p>
          
          

          
          <div class="method-source-code" id="every-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 446</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">every</span>(<span class="ruby-identifier">interval</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:celluloid_actor</span>].<span class="ruby-identifier">every</span>(<span class="ruby-identifier">interval</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- every-source -->
          
        </div>

        

        
      </div><!-- every-method -->

    
      <div id="method-i-exclusive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">exclusive</span><span
            class="method-args">(&block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Run given block in an exclusive mode: all synchronous calls block the whole
actor, not only current message processing.</p>
          
          

          
          <div class="method-source-code" id="exclusive-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 430</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">exclusive</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:celluloid_task</span>].<span class="ruby-identifier">exclusive</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- exclusive-source -->
          
        </div>

        

        
      </div><!-- exclusive-method -->

    
      <div id="method-i-exclusive-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">exclusive?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Are we currently exclusive</p>
          
          

          
          <div class="method-source-code" id="exclusive-3F-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 435</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">exclusive?</span>
  <span class="ruby-identifier">task</span> = <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:celluloid_task</span>]
  <span class="ruby-identifier">task</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">task</span>.<span class="ruby-identifier">exclusive?</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- exclusive-3F-source -->
          
        </div>

        

        
      </div><!-- exclusive-3F-method -->

    
      <div id="method-i-future" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">future</span><span
            class="method-args">(meth = nil, *args, &block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Handle calls to future within an actor itself</p>
          
          

          
          <div class="method-source-code" id="future-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 465</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">future</span>(<span class="ruby-identifier">meth</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:celluloid_actor</span>].<span class="ruby-identifier">proxy</span>.<span class="ruby-identifier">future</span> <span class="ruby-identifier">meth</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- future-source -->
          
        </div>

        

        
      </div><!-- future-method -->

    
      <div id="method-i-link" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">link</span><span
            class="method-args">(actor)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Link this actor to another, allowing it to crash or react to errors</p>
          
          

          
          <div class="method-source-code" id="link-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 382</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">link</span>(<span class="ruby-identifier">actor</span>)
  <span class="ruby-constant">Actor</span>.<span class="ruby-identifier">link</span>(<span class="ruby-identifier">actor</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- link-source -->
          
        </div>

        

        
      </div><!-- link-method -->

    
      <div id="method-i-linked_to-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">linked_to?</span><span
            class="method-args">(actor)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Is this actor linked to another?</p>
          
          

          
          <div class="method-source-code" id="linked_to-3F-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 397</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">linked_to?</span>(<span class="ruby-identifier">actor</span>)
  <span class="ruby-constant">Actor</span>.<span class="ruby-identifier">linked_to?</span>(<span class="ruby-identifier">actor</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- linked_to-3F-source -->
          
        </div>

        

        
      </div><!-- linked_to-3F-method -->

    
      <div id="method-i-links" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">links</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Obtain the <a href="Celluloid/Links.html">Celluloid::Links</a> for this
actor</p>
          
          

          
          <div class="method-source-code" id="links-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 367</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">links</span>
  <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:celluloid_actor</span>].<span class="ruby-identifier">links</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- links-source -->
          
        </div>

        

        
      </div><!-- links-method -->

    
      <div id="method-i-monitor" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">monitor</span><span
            class="method-args">(actor)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Watch for exit events from another actor</p>
          
          

          
          <div class="method-source-code" id="monitor-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 372</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">monitor</span>(<span class="ruby-identifier">actor</span>)
  <span class="ruby-constant">Actor</span>.<span class="ruby-identifier">monitor</span>(<span class="ruby-identifier">actor</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- monitor-source -->
          
        </div>

        

        
      </div><!-- monitor-method -->

    
      <div id="method-i-monitoring-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">monitoring?</span><span
            class="method-args">(actor)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Are we monitoring another actor?</p>
          
          

          
          <div class="method-source-code" id="monitoring-3F-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 392</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">monitoring?</span>(<span class="ruby-identifier">actor</span>)
  <span class="ruby-constant">Actor</span>.<span class="ruby-identifier">monitoring?</span>(<span class="ruby-identifier">actor</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- monitoring-3F-source -->
          
        </div>

        

        
      </div><!-- monitoring-3F-method -->

    
      <div id="method-i-receive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">receive</span><span
            class="method-args">(timeout = nil, &block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Receive an asynchronous message via the actor protocol</p>
          
          

          
          <div class="method-source-code" id="receive-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 402</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">receive</span>(<span class="ruby-identifier">timeout</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">actor</span> = <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:celluloid_actor</span>]
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">actor</span>
    <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">receive</span>(<span class="ruby-identifier">timeout</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">Celluloid</span>.<span class="ruby-identifier">mailbox</span>.<span class="ruby-identifier">receive</span>(<span class="ruby-identifier">timeout</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- receive-source -->
          
        </div>

        

        
      </div><!-- receive-method -->

    
      <div id="method-i-signal" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">signal</span><span
            class="method-args">(name, value = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Send a signal with the given name to all waiting methods</p>
          
          

          
          <div class="method-source-code" id="signal-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 342</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">signal</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:celluloid_actor</span>].<span class="ruby-identifier">signal</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- signal-source -->
          
        </div>

        

        
      </div><!-- signal-method -->

    
      <div id="method-i-sleep" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sleep</span><span
            class="method-args">(interval)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sleep letting the actor continue processing messages</p>
          
          

          
          <div class="method-source-code" id="sleep-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 412</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sleep</span>(<span class="ruby-identifier">interval</span>)
  <span class="ruby-identifier">actor</span> = <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:celluloid_actor</span>]
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">actor</span>
    <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">sleep</span>(<span class="ruby-identifier">interval</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">sleep</span> <span class="ruby-identifier">interval</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- sleep-source -->
          
        </div>

        

        
      </div><!-- sleep-method -->

    
      <div id="method-i-tasks" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">tasks</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Obtain the running tasks for this actor</p>
          
          

          
          <div class="method-source-code" id="tasks-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 362</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">tasks</span>
  <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:celluloid_actor</span>].<span class="ruby-identifier">tasks</span>.<span class="ruby-identifier">to_a</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- tasks-source -->
          
        </div>

        

        
      </div><!-- tasks-method -->

    
      <div id="method-i-terminate" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">terminate</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Terminate this actor</p>
          
          

          
          <div class="method-source-code" id="terminate-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 337</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">terminate</span>
  <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:celluloid_actor</span>].<span class="ruby-identifier">proxy</span>.<span class="ruby-identifier">terminate!</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- terminate-source -->
          
        </div>

        

        
      </div><!-- terminate-method -->

    
      <div id="method-i-timeout" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">timeout</span><span
            class="method-args">(duration) { || ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Timeout on task suspension (eg Sync calls to other actors)</p>
          
          

          
          <div class="method-source-code" id="timeout-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 422</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">timeout</span>(<span class="ruby-identifier">duration</span>)
  <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:celluloid_actor</span>].<span class="ruby-identifier">timeout</span>(<span class="ruby-identifier">duration</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">yield</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- timeout-source -->
          
        </div>

        

        
      </div><!-- timeout-method -->

    
      <div id="method-i-unlink" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">unlink</span><span
            class="method-args">(actor)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Remove links to another actor</p>
          
          

          
          <div class="method-source-code" id="unlink-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 387</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">unlink</span>(<span class="ruby-identifier">actor</span>)
  <span class="ruby-constant">Actor</span>.<span class="ruby-identifier">unlink</span>(<span class="ruby-identifier">actor</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- unlink-source -->
          
        </div>

        

        
      </div><!-- unlink-method -->

    
      <div id="method-i-unmonitor" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">unmonitor</span><span
            class="method-args">(actor)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Stop waiting for exit events from another actor</p>
          
          

          
          <div class="method-source-code" id="unmonitor-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 377</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">unmonitor</span>(<span class="ruby-identifier">actor</span>)
  <span class="ruby-constant">Actor</span>.<span class="ruby-identifier">unmonitor</span>(<span class="ruby-identifier">actor</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- unmonitor-source -->
          
        </div>

        

        
      </div><!-- unmonitor-method -->

    
      <div id="method-i-wait" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">wait</span><span
            class="method-args">(name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Wait for the given signal</p>
          
          

          
          <div class="method-source-code" id="wait-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 347</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">wait</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:celluloid_actor</span>].<span class="ruby-identifier">wait</span> <span class="ruby-identifier">name</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- wait-source -->
          
        </div>

        

        
      </div><!-- wait-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 4.0.0.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

